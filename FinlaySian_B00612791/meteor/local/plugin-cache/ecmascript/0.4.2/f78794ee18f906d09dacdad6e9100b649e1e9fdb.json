{"metadata":{"usedHelpers":[],"marked":[],"modules":{"imports":[],"exports":{"exported":[],"specifiers":[]}}},"options":{"filename":"/server/levels.js","filenameRelative":"/server/levels.js","env":{},"retainLines":false,"highlightCode":true,"suppressDeprecationMessages":false,"presets":[],"plugins":[[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"polyfill":false}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":true}],[[],{"loose":true}],[[],null],[[],{"loose":true}],[[],null],[[],null],[[],{"allowTopLevelThis":true,"strict":false,"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null]],"ignore":[],"code":true,"metadata":true,"ast":false,"comments":true,"compact":false,"minified":false,"sourceMap":true,"sourceMaps":true,"sourceMapTarget":"/server/levels.js.map","sourceFileName":"/server/levels.js","babelrc":false,"sourceType":"module","moduleIds":false,"passPerPreset":false,"basename":"levels"},"ignored":false,"code":"Levels = new Mongo.Collection(\"levels\");\nLeaderboard = new Mongo.Collection(\"leaderboard\");\nMeteor.methods({\n\taddLevel: function () {\n\t\tfunction addLevel(levelNo, maxScore) {\n\t\t\t// example of level insert\n\t\t\tLevels.insert({\n\t\t\t\tlevel: levelNo,\n\t\t\t\tscore: 0,\n\t\t\t\tmaxScore: maxScore,\n\t\t\t\tcompleted: false,\n\t\t\t\towner: user._id\n\t\t\t});\n\t\t}\n\n\t\treturn addLevel;\n\t}(),\n\tupdateLevel: function () {\n\t\tfunction updateLevel(levelNo, score) {\n\t\t\tvar levels = Levels.findOne({\n\t\t\t\towner: this.userId\n\t\t\t});\n\n\t\t\tLevels.update({\n\t\t\t\tlevel: levelNo,\n\t\t\t\towner: this.userId\n\t\t\t}, {\n\t\t\t\t$set: {\n\t\t\t\t\tscore: score,\n\t\t\t\t\tcompleted: true\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\treturn updateLevel;\n\t}(),\n\tupdateStars: function () {\n\t\tfunction updateStars(newStars) {\n\t\t\tvar leaderboard = Leaderboard.findOne({\n\t\t\t\towner: this.userId\n\t\t\t});\n\n\t\t\tLeaderboard.update({\n\t\t\t\towner: this.userId\n\t\t\t}, {\n\t\t\t\t$set: {\n\t\t\t\t\tstars: newStars\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\treturn updateStars;\n\t}()\n});","ast":null,"map":{"version":3,"sources":["/server/levels.js"],"names":[],"mappings":"AAAA,SAAS,IAAI,MAAM,UAAN,CAAiB,QAArB,CAAT;AACA,cAAc,IAAI,MAAM,UAAN,CAAiB,aAArB,CAAd;AACC,OAAO,OAAP,CAAe;AACd;AAAU,oBAAU,OAAV,EAAmB,QAAnB,EAA6B;;AAEtC,UAAO,MAAP,CAAc;AACb,WAAO,OAAP;AACA,WAAO,CAAP;AACA,cAAU,QAAV;AACA,eAAW,KAAX;AACA,WAAO,KAAK,GAAL;IALR,EAFsC;GAA7B;;;IAAV;AAUA;AAAa,uBAAU,OAAV,EAAmB,KAAnB,EAA0B;AACtC,OAAI,SAAS,OAAO,OAAP,CAAe;AAC3B,WAAO,KAAK,MAAL;IADK,CAAT,CADkC;;AAKtC,UAAO,MAAP,CAAc;AACb,WAAO,OAAP;AACA,WAAO,KAAK,MAAL;IAFR,EAGG;AACF,UAAM;AACL,YAAO,KAAP;AACA,gBAAW,IAAX;KAFD;IAJD,EALsC;GAA1B;;;IAAb;AAeA;AAAa,uBAAU,QAAV,EAAoB;AAChC,OAAI,cAAc,YAAY,OAAZ,CAAoB;AACrC,WAAO,KAAK,MAAL;IADU,CAAd,CAD4B;;AAKhC,eAAY,MAAZ,CAAmB;AAClB,WAAO,KAAK,MAAL;IADR,EAEG;AACF,UAAM;AACL,YAAO,QAAP;KADD;IAHD,EALgC;GAApB;;;IAAb;CA1BD","file":"/server/levels.js.map","sourcesContent":["Levels = new Mongo.Collection(\"levels\");\nLeaderboard = new Mongo.Collection(\"leaderboard\");\n\tMeteor.methods({\n\t\taddLevel: function (levelNo, maxScore) {\n\t\t\t// example of level insert\n\t\t\tLevels.insert({\n\t\t\t\tlevel: levelNo,\n\t\t\t\tscore: 0,\n\t\t\t\tmaxScore: maxScore,\n\t\t\t\tcompleted: false,\n\t\t\t\towner: user._id\n\t\t\t});\n\t\t},\n\t\tupdateLevel: function (levelNo, score) {\n\t\t\tvar levels = Levels.findOne({\n\t\t\t\towner: this.userId\n\t\t\t});\n\t\t\t\n\t\t\tLevels.update({\n\t\t\t\tlevel: levelNo,\n\t\t\t\towner: this.userId\n\t\t\t}, { \n\t\t\t\t$set: {\n\t\t\t\t\tscore: score,\n\t\t\t\t\tcompleted: true\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\tupdateStars: function (newStars) {\n\t\t\tvar leaderboard = Leaderboard.findOne({\n\t\t\t\towner: this.userId\n\t\t\t});\n\n\t\t\tLeaderboard.update({\n\t\t\t\towner: this.userId\n\t\t\t}, {\n\t\t\t\t$set: {\n\t\t\t\t\tstars: newStars\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t});"]},"hash":"f78794ee18f906d09dacdad6e9100b649e1e9fdb"}
