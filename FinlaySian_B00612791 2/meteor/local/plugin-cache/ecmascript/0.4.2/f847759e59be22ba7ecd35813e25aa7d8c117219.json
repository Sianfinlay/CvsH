{"metadata":{"usedHelpers":[],"marked":[],"modules":{"imports":[],"exports":{"exported":[],"specifiers":[]}}},"options":{"filename":"/client/lib/customisation.js","filenameRelative":"/client/lib/customisation.js","env":{},"retainLines":false,"highlightCode":true,"suppressDeprecationMessages":false,"presets":[],"plugins":[[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"polyfill":false}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":true}],[[],{"loose":true}],[[],null],[[],{"loose":true}],[[],null],[[],null],[[],{"allowTopLevelThis":true,"strict":false,"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null]],"ignore":[],"code":true,"metadata":true,"ast":false,"comments":true,"compact":false,"minified":false,"sourceMap":true,"sourceMaps":true,"sourceMapTarget":"/client/lib/customisation.js.map","sourceFileName":"/client/lib/customisation.js","babelrc":false,"sourceType":"module","moduleIds":false,"passPerPreset":false,"basename":"customisation"},"ignored":false,"code":"// customisation\n\nTemplate.custom_slider.onRendered(function () {\n    $('ul.tabs').tabs();\n});\nTemplate.customisation.helpers({\n    avatar: function () {\n        function avatar() {\n            return Avatar.find({\n                owner: Meteor.userId()\n            });\n        }\n\n        return avatar;\n    }()\n});\nTemplate.customise_avatar.helpers({\n    avatar: function () {\n        function avatar() {\n            return Avatar.find({\n                owner: Meteor.userId()\n            });\n        }\n\n        return avatar;\n    }()\n});\nTemplate.customisation.events({\n    \"click #saveAvatar\": function () {\n        function clickSaveAvatar(event) {\n            event.preventDefault();\n\n            var skin = $('input[name=skin]:checked').val();\n            var hair = $('input[name=hair]:checked').val();\n            var outfit = $('input[name=outfit]:checked').val();\n\n            if (skin == null) {\n                skin = $('input[name=altskin]').val();\n            }\n            if (hair == null) {\n                hair = $('input[name=althair]').val();\n            }\n            if (outfit == null) {\n                outfit = $('input[name=altoutfit').val();\n            }\n            // Insert avatar changes\n            Meteor.call(\"updateAvatar\", skin, hair, outfit);\n            Router.go('/account');\n        }\n\n        return clickSaveAvatar;\n    }()\n});\nTemplate.skin.onRendered(function () {\n    var mySwiper = new Swiper('#Skin', {\n        // Optional parameters\n        direction: 'horizontal',\n        loop: true,\n        slidesPerView: 3,\n\n        // If we need pagination\n        //pagination: '.swiper-pagination',\n\n        // Navigation arrows\n        nextButton: '.swiper-button-next',\n        prevButton: '.swiper-button-prev',\n        grabCursor: true,\n        breakpoints: {\n            1200: {\n                slidesPerView: 3,\n                spaceBetween: 30\n            },\n            993: {\n                slidesPerView: 3,\n                spaceBetween: 10\n            },\n            600: {\n                slidesPerView: 2,\n                spaceBetween: 10\n            },\n            320: {\n                slidesPerView: 1,\n                spaceBetween: 30\n            }\n        }\n\n    });\n    // change skin being display on avatar, this is not saved yet\n    $(\"img.ava_base\").click(function () {\n        $('img').removeClass('img_active');\n        $(this).addClass('img_active');\n        $(this).next().prop(\"checked\", \"checked\");\n        var checked_rad = $('input[name=skin]:checked').val();\n        console.log(checked_rad + \"radio is checked\");\n\n        var base_src = \"/images/dressup/skin/\" + checked_rad + \".svg\";\n        $('img.base').attr(\"src\", base_src);\n    });\n});\nTemplate.hair.onRendered(function () {\n    var mySwiper = new Swiper('#Hair', {\n        // Optional parameters\n        direction: 'horizontal',\n        loop: true,\n        slidesPerView: 4,\n        slidesPerColumn: 2,\n        // If we need pagination\n        //pagination: '.swiper-pagination',\n\n        // Navigation arrows\n        nextButton: '.swiper-button-next',\n        prevButton: '.swiper-button-prev',\n        grabCursor: true,\n        breakpoints: {\n            1200: {\n                slidesPerView: 3,\n                spaceBetween: 30\n            },\n            993: {\n                slidesPerView: 3,\n                spaceBetween: 10\n            },\n            600: {\n                slidesPerView: 1,\n                spaceBetween: 10\n            },\n            320: {\n                slidesPerView: 1,\n                spaceBetween: 30\n            }\n        }\n    });\n    // change skin being display on avatar, this is not saved yet\n    $(\"img.ava_hair\").click(function () {\n        $('img').removeClass('img_active');\n        $(this).addClass('img_active');\n        $(this).next().prop(\"checked\", \"checked\");\n        var checked_rad = $('input[name=hair]:checked').val();\n        console.log(checked_rad + \"radio is checked\");\n\n        var hair_src = \"/images/dressup/hair/\" + checked_rad + \".svg\";\n        $('img.hair').attr(\"src\", hair_src);\n    });\n});\n\nTemplate.outfit.onRendered(function () {\n    var mySwiper = new Swiper('#Outfit', {\n        // Optional parameters\n        direction: 'horizontal',\n        loop: true,\n        slidesPerView: 3,\n\n        // If we need pagination\n        //pagination: '.swiper-pagination',\n\n        // Navigation arrows\n        nextButton: '.swiper-button-next',\n        prevButton: '.swiper-button-prev',\n        grabCursor: true,\n        breakpoints: {\n            1200: {\n                slidesPerView: 3,\n                spaceBetween: 30\n            },\n            993: {\n                slidesPerView: 3,\n                spaceBetween: 10\n            },\n            600: {\n                slidesPerView: 2,\n                spaceBetween: 10\n            },\n            320: {\n                slidesPerView: 1,\n                spaceBetween: 30\n            }\n        }\n\n    });\n    // change skin being display on avatar, this is not saved yet\n    $(\"img.ava_outfit\").click(function () {\n        $('img').removeClass('img_active');\n        $(this).addClass('img_active');\n        $(this).next().prop(\"checked\", \"checked\");\n        var checked_rad = $('input[name=outfit]:checked').val();\n        console.log(checked_rad + \"radio is checked\");\n\n        var outfit_src = \"/images/dressup/outfit/\" + checked_rad + \".svg\";\n        $('img.outfit').attr(\"src\", outfit_src);\n    });\n});","ast":null,"map":{"version":3,"sources":["/client/lib/customisation.js"],"names":[],"mappings":"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","file":"/client/lib/customisation.js.map","sourcesContent":["// customisation\n\nTemplate.custom_slider.onRendered( function(){\n    $('ul.tabs').tabs();    \n  });\n Template.customisation.helpers({\n    avatar: function () {\n      return Avatar.find({\n        owner: Meteor.userId()\n      });\n    }\n  });\n Template.customise_avatar.helpers({\n    avatar: function () {\n      return Avatar.find({\n      owner: Meteor.userId()\n    });\n    }\n  });\n Template.customisation.events({ \n  \"click #saveAvatar\": function (event) {\n    event.preventDefault();\n\n    var skin = $('input[name=skin]:checked').val();\n    var hair = $('input[name=hair]:checked').val();\n    var outfit = $('input[name=outfit]:checked').val();\n\n    if(skin == null){\n      skin = $('input[name=altskin]').val();\n    }\n    if(hair == null){\n      hair = $('input[name=althair]').val();\n    }\n    if(outfit == null){\n      outfit = $('input[name=altoutfit').val();\n    }\n    // Insert avatar changes\n    Meteor.call(\"updateAvatar\", skin, hair, outfit);\n    Router.go('/account');\n  }\n });\n Template.skin.onRendered( function(){\n  var mySwiper = new Swiper ('#Skin', {\n      // Optional parameters\n      direction: 'horizontal',\n      loop: true,\n      slidesPerView: 3,\n      \n      // If we need pagination\n      //pagination: '.swiper-pagination',\n      \n      // Navigation arrows\n      nextButton: '.swiper-button-next',\n      prevButton: '.swiper-button-prev',\n      grabCursor: true,\n      breakpoints: {\n            1200: {\n                slidesPerView: 3,\n                spaceBetween: 30\n            },\n            993: {\n                slidesPerView: 3,\n                spaceBetween: 10\n            },\n            600: {\n                slidesPerView: 2,\n                spaceBetween: 10\n            },\n            320: {\n                slidesPerView: 1,\n                spaceBetween: 30\n            }\n        }\n      \n    });\n    // change skin being display on avatar, this is not saved yet\n    $(\"img.ava_base\").click(function() {\n        $('img').removeClass('img_active');\n        $(this).addClass('img_active');\n        $(this).next().prop(\"checked\", \"checked\");\n        var checked_rad = $('input[name=skin]:checked').val();\n        console.log(checked_rad +\"radio is checked\");\n\n        var base_src = \"/images/dressup/skin/\"+ checked_rad +\".svg\";\n        $('img.base').attr(\"src\", base_src);\n    }); \n });\n Template.hair.onRendered( function(){\n  var mySwiper = new Swiper ('#Hair', {\n      // Optional parameters\n      direction: 'horizontal',\n      loop: true,\n      slidesPerView: 4,\n      slidesPerColumn: 2,\n      // If we need pagination\n      //pagination: '.swiper-pagination',\n      \n      // Navigation arrows\n      nextButton: '.swiper-button-next',\n      prevButton: '.swiper-button-prev',\n      grabCursor: true,\n      breakpoints: {\n            1200: {\n                slidesPerView: 3,\n                spaceBetween: 30\n            },\n            993: {\n                slidesPerView: 3,\n                spaceBetween: 10\n            },\n            600: {\n                slidesPerView: 1,\n                spaceBetween: 10\n            },\n            320: {\n                slidesPerView: 1,\n                spaceBetween: 30\n            }\n        }\n    });\n    // change skin being display on avatar, this is not saved yet\n    $(\"img.ava_hair\").click(function() {\n        $('img').removeClass('img_active');\n        $(this).addClass('img_active');\n        $(this).next().prop(\"checked\", \"checked\");\n        var checked_rad = $('input[name=hair]:checked').val();\n        console.log(checked_rad +\"radio is checked\");\n\n        var hair_src = \"/images/dressup/hair/\"+ checked_rad +\".svg\";\n        $('img.hair').attr(\"src\", hair_src);\n    }); \n });\n\n Template.outfit.onRendered( function(){\n  var mySwiper = new Swiper ('#Outfit', {\n      // Optional parameters\n      direction: 'horizontal',\n      loop: true,\n      slidesPerView: 3,\n      \n      // If we need pagination\n      //pagination: '.swiper-pagination',\n      \n      // Navigation arrows\n      nextButton: '.swiper-button-next',\n      prevButton: '.swiper-button-prev',\n      grabCursor: true,\n      breakpoints: {\n            1200: {\n                slidesPerView: 3,\n                spaceBetween: 30\n            },\n            993: {\n                slidesPerView: 3,\n                spaceBetween: 10\n            },\n            600: {\n                slidesPerView: 2,\n                spaceBetween: 10\n            },\n            320: {\n                slidesPerView: 1,\n                spaceBetween: 30\n            }\n        }\n      \n    });\n    // change skin being display on avatar, this is not saved yet\n    $(\"img.ava_outfit\").click(function() {\n        $('img').removeClass('img_active');\n        $(this).addClass('img_active');\n        $(this).next().prop(\"checked\", \"checked\");\n        var checked_rad = $('input[name=outfit]:checked').val();\n        console.log(checked_rad +\"radio is checked\");\n\n        var outfit_src = \"/images/dressup/outfit/\"+ checked_rad +\".svg\";\n        $('img.outfit').attr(\"src\", outfit_src);\n    }); \n });"]},"hash":"f847759e59be22ba7ecd35813e25aa7d8c117219"}
